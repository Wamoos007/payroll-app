Got it.
Below is a **clean rewrite specifically aimed at another AI system** (Claude, Gemini, Copilot, local LLM, dev agent, etc.).

It is written **as instructions to the AI**, not as documentation, and assumes the AI will actively design and code the system.

You can paste this **as-is** into another AI and say nothing else.

---

# SYSTEM PROMPT — BUILD A LOCAL PAYROLL APPLICATION FROM SCRATCH

You are tasked with designing and implementing a **local-first payroll application** from scratch.

This is a **serious business system**, not a demo or tutorial project.
Design decisions must prioritize **data safety, clarity, and long-term maintainability**.

---

## 1. Core Vision

Build a **professional payroll management application** to replace an Excel-based payroll workflow.

The system must:

* Run locally (offline-first)
* Store all data on the user’s machine
* Be deployable later as a desktop executable
* Produce **professional, audit-ready payslips**
* Preserve historical payroll data permanently

This is **not** an accounting system.
It is a **payroll capture, calculation, payslip, and reporting tool**.

---

## 2. Non-Negotiable Principles

* No cloud dependency
* No data loss
* No silent destructive actions
* No recalculation of historical payroll
* No reuse of employee identifiers
* UI must protect non-technical users from mistakes

Assume users:

* Are not developers
* Will make data entry mistakes
* Expect predictable, calm software behaviour

---

## 3. Architecture Expectations

You may choose the exact stack, but the architecture must support:

* A modern UI framework
* A local service layer (API or equivalent)
* An embedded database (SQLite or similar)
* Clean separation of concerns
* Eventual packaging into a desktop app

Design for **incremental expansion**, not rewrites.

---

## 4. Domain Model (Conceptual)

### Company

* Single company per install
* Editable settings
* Used globally (payslips, headers)

### Employee

* Permanent unique employee code (never reused)
* Active / inactive status
* Hourly rate
* Personal identifiers

### Pay Run

* Represents one payroll period
* Belongs to a specific year
* Has a lifecycle (Draft ? Approved)

### Payroll Line

* Snapshot of employee pay for a pay run
* Stores hours and rate used at the time
* Must never change after approval

---

## 5. Mandatory Application Modules

### 5.1 Dashboard

Purpose: high-level visibility.

Must show:

* Active employee count
* Total payroll for selected year
* Pay run count
* Annual payroll trend graph (per month)

Rules:

* Summary cards must be clickable
* Graph must respect selected year
* Design must feel executive-level

---

### 5.2 Company Settings

Single editable configuration.

Fields:

* Company name
* Address
* Registration number
* Contact email
* Logo (future support)

Rules:

* Exactly one company record
* Editable at any time
* Changes reflect immediately on payslips

---

### 5.3 Employees

Employee master data management.

Features:

* Add employee
* Edit details
* Deactivate / reactivate
* Filter (All / Active / Inactive)

Rules:

* Employees are never deleted
* Inactive employees do not appear in new payroll runs
* Historical payroll must always show inactive employees
* Employee codes are unique forever

---

### 5.4 Pay Runs

Payroll period management.

Fields:

* Period start
* Period end
* Pay date
* Pay year
* Status (Draft / Approved)

Rules:

* Draft pay runs are editable and deletable
* Approved pay runs are locked
* Approval is explicit and intentional
* Emergency override may exist later

---

### 5.5 Enter Hours

Primary payroll capture screen.

Capabilities:

* Select year
* Select pay run
* Add all active employees (sorted by employee code ascending)
* Add individual employees
* Remove employees from a pay run

Captured values:

* Week 1 hours
* Week 2 hours
* Overtime 1.5×
* Overtime 2.0×

Calculated live:

* Normal hours
* Gross pay
* UIF (1%)
* Net pay

Rules:

* Hourly rate is copied at time of payroll
* Later rate changes do NOT affect past payroll
* Removing an employee from a pay run does not delete the employee

---

### 5.6 Payslips

Professional payslip generation.

Layout requirements:

* A4 portrait
* Company header with details
* Employee information block
* Earnings section:

  * Normal hours
  * OT 1.5
  * OT 2.0
* Deductions section:

  * UIF (1%)
* Totals bold and right-aligned
* Clean spacing and borders

Export behaviour:

* “Export Payslip (PDF)” button
* PDF generated from frontend rendering
* Opens in new tab
* Printing is done from PDF, not app
* No browser headers or footers

UX rule:

* User selects employee/pay run only once
* No duplicate selection flows

---

### 5.7 YTD (Year-to-Date)

Reporting screen.

Purpose:

* Annual payroll overview per employee

Must show:

* Gross total
* UIF total
* Net total

Rules:

* Fully year-aware
* Uses historical data
* Clear empty-state messaging if no data exists

---

## 6. Year Awareness & Archiving

The system must be **year-aware by design**.

Concept:

* Each pay run belongs to a year
* UI defaults to current year
* At year-end:

  * UI starts fresh for the new year
  * Old data remains accessible
  * No deletion or overwriting occurs

Historical data must remain queryable indefinitely.

---

## 7. Data Safety Rules

* Payroll history is immutable after approval
* Employee codes are permanent identifiers
* No cascading deletes on payroll data
* All destructive actions must be explicit
* Accidental mistakes must be recoverable where possible

---

## 8. UX & Design Expectations

* Modern, minimalist, professional
* Sidebar navigation with hamburger toggle
* Clean typography
* Right-aligned monetary values
* Tables optimized for clarity
* No clutter or unnecessary options

The app should feel:

* Calm
* Predictable
* Business-ready
* Audit-friendly

---

## 9. Out-of-Scope (Do Not Implement Yet)

* Multi-company support
* Online syncing
* Advanced accounting features
* Tax engines beyond UIF

Design so these can be added later without breaking the system.

---

## 10. Success Criteria

This system is successful if:

* Excel is fully replaced
* Payroll runs are repeatable and safe
* Payslips are professional enough to send to staff
* Historical data is trusted
* Users feel confident using the system

---

## Final Instruction

Build this **incrementally**.
Validate each module before moving on.
Never sacrifice data integrity for speed.

---

If you want, I can also:

* Compress this into a **short “agent prompt”**
* Rewrite it for **Claude-specific style**
* Rewrite it for **Gemini / Copilot**
* Convert it into a **formal PRD or SRS**

Just say the word.